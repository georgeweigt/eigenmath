"Testing abs"

clear
check(abs(7) == 7)
check(abs(-7) == 7)
check(infixform(abs(x)) == "abs(x)")
check(infixform(abs(-x)) == "abs(x)")
check(abs(3 - 4 i) == 5)
check(abs(r exp(i theta)) == abs(r))
check(abs(cos(5/8 pi)) == -cos(5/8 pi))
check(abs(x y) == abs(x) abs(y))
check(abs(1/x) == 1/abs(x))
check(prefixform(abs(b - a)) == "(abs (+ a (* -1 b)))")
check(infixform(abs((x,y))) == "(abs(x)^2 + abs(y)^2)^(1/2)")

t = abs(2)
check(t = 2)
t = abs(2.0)
check(t = 2)
t = abs(-2)
check(t = 2)
t = abs(-2.0)
check(t = 2)
t = abs(a)
check(t = abs(a))
t = abs(-a)
check(t = abs(a))
t = abs(2*a)
check(t = 2*abs(a))
t = abs(-2*a)
check(t = 2*abs(a))
t = abs(2.0*a)
check(t = 2*abs(a))
t = abs(-2.0*a)
check(t = 2*abs(a))
t = abs(a-b)+abs(b-a)
check(t = 2*abs(a-b))
t = abs(3 + 4 i)
check(t = 5)
t = abs((2,3,4))
check(t = 29^(1/2))
t = abs(a*b)
check(t = abs(a)*abs(b))
t = abs(a/b)
check(t = abs(a)/abs(b))
t = abs(1/a^b)
check(t = 1/(abs(a^b)))
