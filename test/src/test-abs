"Testing abs"

clear
check(infixform(abs(x)) == "abs(x)")
check(infixform(abs(-x)) == "abs(x)")
check(abs(1) == 1)
check(abs(-1) == 1)
check(abs(pi) == pi)
check(abs(-pi) == pi)
check(abs(exp(1)) == exp(1))
check(abs(-exp(1)) == exp(1))
check(abs(sqrt(2)) == sqrt(2))
check(abs(-sqrt(2)) == sqrt(2))
check(abs(1/sqrt(2)) == 1/sqrt(2))
check(abs(-1/sqrt(2)) == 1/sqrt(2))
check(abs(1/x) == 1/abs(x))
check(abs(-1/x) == 1/abs(x))
check(abs(sqrt(1/x)) == 1/abs(sqrt(x)))
check(abs(-sqrt(1/x)) == 1/abs(sqrt(x)))
check(abs(pi-1) == pi-1)
check(abs(1-pi) == pi-1)
check(abs(x*y) == abs(x)*abs(y))
check(abs(-x*y) == abs(x)*abs(y))
check(abs(1+2i) == sqrt(5))
check(abs((1+2i,3+4i)) == sqrt(5+25))
check(abs((x,y)) == sqrt(abs(x)^2+abs(y)^2))
check(abs(a-b) == abs(b-a))
check(abs(r exp(i theta)) == abs(r))

t = abs(2)
check(t = 2)
t = abs(2.0)
check(t = 2)
t = abs(-2)
check(t = 2)
t = abs(-2.0)
check(t = 2)
t = abs(a)
check(t = abs(a))
t = abs(-a)
check(t = abs(a))
t = abs(2*a)
check(t = 2*abs(a))
t = abs(-2*a)
check(t = 2*abs(a))
t = abs(2.0*a)
check(t = 2*abs(a))
t = abs(-2.0*a)
check(t = 2*abs(a))
t = abs(a-b)+abs(b-a)
check(t = 2*abs(a-b))
t = abs(3 + 4 i)
check(t = 5)
t = abs((2,3,4))
check(t = 29^(1/2))
t = abs(a*b)
check(t = abs(a)*abs(b))
t = abs(a/b)
check(t = abs(a)/abs(b))
t = abs(1/a^b)
check(t = 1/(abs(a^b)))
