\input{preamble}

\section*{Stokes's theorem}

Stokes's theorem equates a surface integral of the curl of a function
with a line integral of the same function.
In rectangular coordinates the equivalence is
%
$$
\iint_S(\mathop{\rm curl}{\bf F})\cdot{\bf n}\,d\sigma
=\oint (P\,dx+Q\,dy+R\,dz)
$$
%
where ${\bf F}=(P,Q,R)$.
For $S$ parametrized by $x$ and $y$ we have
$${\bf n}\,d\sigma=\left(
\frac{\partial S}{\partial x}\times\frac{\partial S}{\partial y}
\right)dx\,dy$$

For example,
let ${\bf F}=(y,z,x)$ and let $S$ be the part of the paraboloid
$z=4-x^2-y^2$
that is above the $xy$ plane.
The perimeter of the paraboloid is the circle $x^2+y^2=2$.
The following script computes both the surface and line integrals.
Polar coordinates are used for the line integral so that \verb$defint$ can succeed.

{\color{blue}
\begin{verbatim}
"Surface integral"
z = 4 - x^2 - y^2
F = (y,z,x)
S = (x,y,z)
z = quote(z) -- clear z for use by curl
f = dot(curl(F),cross(d(S,x),d(S,y)))
x = r cos(theta)
y = r sin(theta)
defint(f r, r, 0, 2, theta, 0, 2 pi)

"Line integral"
x = 2 cos(t)
y = 2 sin(t)
z = 4 - x^2 - y^2
P = y
Q = z
R = x
f = P d(x,t) + Q d(y,t) + R d(z,t)
f = circexp(f)
defint(f, t, 0, 2 pi)
\end{verbatim}
}

This is the result when the script runs.
Both the surface integral and the line integral
yield the same result.

\bigskip
Surface integral

$\displaystyle -4\pi$

Line integral

$\displaystyle -4\pi$

\end{document}
